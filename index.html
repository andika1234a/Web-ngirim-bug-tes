<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Side Scroll Game</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { background: #000; overflow: hidden; }
    canvas {
      display: block;
      margin: 0 auto;
      background: linear-gradient(to bottom, #111, #333);
      border: 2px solid #fff;
    }

    #gameOver {
      color: red;
      font-size: 3em;
      font-family: sans-serif;
      text-align: center;
      position: absolute;
      width: 100%;
      top: 40%;
      display: none;
    }

    #controls {
      color: white;
      text-align: center;
      font-family: sans-serif;
      margin-top: 10px;
    }
  </style>
</head>
<body>
<canvas id="game" width="800" height="400"></canvas>
<div id="gameOver">GAME OVER</div>
<div id="controls">Gunakan Tombol ← → untuk gerak, ↑ untuk lompat</div>

<script>
  const canvas = document.getElementById("game");
  const ctx = canvas.getContext("2d");

  let player = {
    x: 50,
    y: 300,
    w: 40,
    h: 40,
    color: "white",
    dy: 0,
    jumping: false
  };

  let enemy = {
    x: 800,
    y: 300,
    w: 40,
    h: 40,
    color: "red",
    speed: 4
  };

  let keys = {};
  document.addEventListener("keydown", e => keys[e.key] = true);
  document.addEventListener("keyup", e => keys[e.key] = false);

  function drawRect(obj) {
    ctx.fillStyle = obj.color;
    ctx.fillRect(obj.x, obj.y, obj.w, obj.h);
  }

  function update() {
    // Gravity
    if (player.y < 300) {
      player.dy += 1.2;
      player.jumping = true;
    } else {
      player.dy = 0;
      player.jumping = false;
      player.y = 300;
    }

    // Controls
    if (keys["ArrowRight"]) player.x += 5;
    if (keys["ArrowLeft"]) player.x -= 5;
    if (keys["ArrowUp"] && !player.jumping) {
      player.dy = -18;
      player.jumping = true;
    }

    player.y += player.dy;

    // Batas layar
    if (player.x < 0) player.x = 0;
    if (player.x + player.w > canvas.width) player.x = canvas.width - player.w;

    // Enemy movement
    enemy.x -= enemy.speed;
    if (enemy.x + enemy.w < 0) {
      enemy.x = 800 + Math.random() * 100;
    }

    // Collision
    if (
      player.x < enemy.x + enemy.w &&
      player.x + player.w > enemy.x &&
      player.y < enemy.y + enemy.h &&
      player.y + player.h > enemy.y
    ) {
      document.getElementById("gameOver").style.display = "block";
      cancelAnimationFrame(anim);
      return;
    }
  }

  function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    drawRect(player);
    drawRect(enemy);
  }

  function gameLoop() {
    update();
    draw();
    anim = requestAnimationFrame(gameLoop);
  }

  let anim = requestAnimationFrame(gameLoop);
</script>
</body>
</html>
